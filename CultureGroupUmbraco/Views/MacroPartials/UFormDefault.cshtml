@inherits Umbraco.Cms.Web.Common.Macros.PartialViewMacroPage
@using UFormKit.Controller
@using UFormKit.Models
@model UFormModel

@if (@TempData["success"] != null)
{
    <span class="form_submit_message">@TempData["success"]</span>
}

@Html.ValidationSummary()

@using (Html.BeginUmbracoForm<UFormController>("Send"))
{
    @Model.Template
}
@if (Model.UseRecaptcha)
{
    <script src="https://www.google.com/recaptcha/api.js?render=@Model.SiteKey"></script>
    <script>
        grecaptcha.ready(function () {
            grecaptcha.execute('@Model.SiteKey', { action: 'submit' })
                .then(function (token) {
                    document.getElementById('g-recaptcha-response').value = token;
                });
        });
    </script>
}

<script defer src="/App_Plugins/UFormKit/scripts/uFormKit.js"></script>

